# Application Configuration
spring:
  application:
    name: gateway-service
  main:
    web-application-type: reactive

# Server Configuration
server:
  port: 8080

# Spring Cloud Gateway Configuration
spring.cloud.gateway:
  httpclient:
    connect-timeout: 5000
    response-timeout: 10s
  default-filters:
    - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials, RETAIN_UNIQUE

# JWT Configuration (must match identity-service configuration)
jwt:
  secret: ${JWT_SECRET:docflow-secret-key-change-this-in-production-min-256-bits-required-for-security}

# SpringDoc OpenAPI Configuration (WebFlux)
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /webjars/swagger-ui/index.html
    urls:
      - name: Gateway API
        url: /v3/api-docs
    operationsSorter: method
    tagsSorter: alpha
  info:
    title: DocFlow Gateway API
    description: API Gateway for DocFlow microservices architecture
    version: 0.0.1-SNAPSHOT
    contact:
      name: DocFlow Team

# Logging Configuration
logging:
  level:
    root: INFO
    com.docflow.gateway: DEBUG
    org.springframework.cloud.gateway: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
